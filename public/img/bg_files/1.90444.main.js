webpackJsonp([1],{1e3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={getComponent:function(e,t){n.e(1,function(e){t(null,n(1001)["default"])})}}},1001:function(e,t,n){"use strict";e.exports=n(1002)},1002:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){e.params,e.loadContext;return void t()}function s(e){return function(t){return e.custom.listHomeFeedPhotos(t).then(g.toJson).then(q)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(197),d=r(c),p=n(403),f=n(591),h=r(f),m=n(803),y=n(646),b=n(710),v=n(585),g=n(625),_=n(476),P=n(1003),w=r(P),T=n(1030),E=r(T),k=n(1033),j=r(k),O=n(1047),N=r(O),x=n(1052),R=r(x),M=n(1056),S=r(M),C=n(1060),L=r(C),U=n(1063),W=r(U),I=n(1065),q=(0,m.normalizeResponse)("homeFeed"),F="Home",G={photos:c.PropTypes.arrayOf(c.PropTypes.object),location:c.PropTypes.object.isRequired,userPreferences:c.PropTypes.object.isRequired,auth:c.PropTypes.object,windowWidth:c.PropTypes.number,contentWidth:c.PropTypes.number,pixelRatio:c.PropTypes.number.isRequired,jsLoaded:c.PropTypes.bool.isRequired,isFollowXp:c.PropTypes.bool.isRequired,homeFeed:c.PropTypes.object.isRequired,actions:c.PropTypes.object.isRequired,api:c.PropTypes.object.isRequired,raven:c.PropTypes.object.isRequired},A={auth:{}},H=t.Home=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleFetchResponse=e.handleFetchResponse.bind(e),e.handleFetchError=e.handleFetchError.bind(e),e}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.actions,n=e.api;n.custom.listHomeFeedPhotos().then(g.toJson).then(q).then(function(e){var n=e.entities,r=e.result;t.updateData(n),t.resetHomeFeed({photoIds:r.photos,nextPage:r.next_page})})}},{key:"handleFetchResponse",value:function(e){var t=e.entities,n=e.result,r=this.props,o=r.actions,i=r.location;(0,y.trackPageView)(i),o.updateData(t),o.addPhotosToHomeFeed({photoIds:n.photos,nextPage:n.next_page})}},{key:"handleFetchError",value:function(e){this.props.raven.captureException(e,{tags:{component:"HomeFeed"}})}},{key:"render",value:function(){var e=this.props,t=e.photos,n=e.homeFeed,r=e.location,o=e.userPreferences,i=e.auth,a=e.windowWidth,u=e.contentWidth,l=e.pixelRatio,c=e.jsLoaded,p=e.actions,f=e.api,m=e.isFollowXp,v=e.raven,g=0===t.length&&!n.maxPage,_=m&&(!i.user||!i.user.completed_onboarding);return d["default"].createElement("div",null,d["default"].createElement(h["default"],{title:I.title,titleTemplate:"%s | "+(0,y.getSuffixForTitle)(I.title),description:I.description,meta:(0,b.buildFeedMetas)(t[0],I.title,I.description,I.canonical),link:(0,b.buildLinks)(I.canonical)}),d["default"].createElement(W["default"],null),d["default"].createElement(E["default"],{authUser:i.user,windowWidth:a}),_&&d["default"].createElement(N["default"],{authUser:i.user}),d["default"].createElement(j["default"],{location:r,actions:p,photoFeed:n,preferredGrid:o.grid,showSorting:!1,isHome:!0}),d["default"].createElement(R["default"],{nextPage:n.nextPage,preferredGrid:o.grid,handleFetch:s(f),handleFetchResponse:this.handleFetchResponse},d["default"].createElement(w["default"],{showPlaceholder:g,photos:t,perPage:n.perPage,nextPage:n.nextPage,handleFetch:s(f),authUser:i.user,location:r,preferredGrid:o.grid,windowWidth:a,contentWidth:u,pixelRatio:l,jsLoaded:c,actions:p,api:f,raven:v})),d["default"].createElement(L["default"],null),d["default"].createElement(S["default"],{actions:p}))}}]),t}(c.Component);H.displayName=F,H.propTypes=G,H.defaultProps=A;var D=function(e){return{authUser:e.auth.user,photos:(0,_.denormalizedPhotos)(e),isFollowXp:(0,v.isFollowXp)(e)}},B=(0,p.connect)(D)(H);B.loadProps=u,t["default"]=B},1003:function(e,t,n){"use strict";e.exports=n(1004)},1004:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.grid&&"multi"===e.grid?"multi":"single"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";return e&&e.grid?u(e):t}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(197),d=r(c),p=n(1005),f=r(p),h=n(1006),m=n(646),y=n(1007),b=r(y),v=n(1016),g=r(v),_=n(1019),P=r(_),w=n(1027),T=r(w),E="HomeFeed",k={photos:c.PropTypes.array,perPage:c.PropTypes.number,nextPage:c.PropTypes.string,endContent:c.PropTypes.element,location:c.PropTypes.object.isRequired,preferredGrid:c.PropTypes.string,authUser:c.PropTypes.object,windowWidth:c.PropTypes.number,pixelRatio:c.PropTypes.number.isRequired,contentWidth:c.PropTypes.number,actions:c.PropTypes.object.isRequired,api:c.PropTypes.object.isRequired},j={photos:[],preferredGrid:"single",contentWidth:1176},O=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.location,a=e.preferredGrid;return n.state={renderPlaceholder:!1,grid:s(r.query,a)},n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.preferredGrid,r=e.actions;t.query.grid&&t.query.grid!==n&&r.setPreferredGrid(t.query.grid)}},{key:"handleToggleClick",value:function(e){var t=this.props,n=t.preferredGrid,r=t.actions,o=t.perPage;n!==e&&(f["default"].set(h.GRID,e),r.setPreferredGrid(e),r.resetHomeFeed({perPage:o}),r.trackGridSwitch(e))}},{key:"renderGrid",value:function(){var e=this.props,t=e.windowWidth,n=e.preferredGrid,r="multi"===n&&!(0,m.isPhone)(t);return r?this.renderMultiGrid():this.renderSingleGrid()}},{key:"renderMultiGrid",value:function(){var e=this.props,t=e.location,n=e.photos,r=e.actions,o=e.api;return d["default"].createElement(b["default"],{photos:n,location:t,actions:r,api:o})}},{key:"renderSingleGrid",value:function(){var e=this.props,t=e.location,n=e.photos,r=e.authUser,o=e.windowWidth,i=e.contentWidth,a=e.pixelRatio,u=e.actions,s=e.api;return d["default"].createElement(P["default"],{photos:n,location:t,authUser:r,windowWidth:o,contentWidth:i,pixelRatio:a,actions:u,api:s})}},{key:"renderSpinner",value:function(){var e=this.props.nextPage;return e?d["default"].createElement(T["default"],null):null}},{key:"renderEndContent",value:function(){var e=this.props,t=e.endContent,n=e.nextPage;return n?null:t}},{key:"render",value:function(){var e=this.props.actions;return d["default"].createElement(g["default"],{actions:e},d["default"].createElement("div",null,this.renderGrid(),this.renderSpinner(),this.renderEndContent()))}}]),t}(c.Component);t["default"]=O,O.displayName=E,O.propTypes=k,O.defaultProps=j,O.contextTypes={router:d["default"].PropTypes.object.isRequired}},1005:function(e,t){var t=e.exports=function(e){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie="");var t={};return t.get=function(t){for(var n=e.cookie.split(/;\s*/),r=0;r<n.length;r++){var o=n[r].split("="),i=unescape(o[0]);if(i===t)return unescape(o[1])}},t.set=function(t,n,r){r||(r={});var o=escape(t)+"="+escape(n);return r.expires&&(o+="; expires="+r.expires),r.path&&(o+="; path="+escape(r.path)),e.cookie=o,o},t};if("undefined"!=typeof document){var n=t(document);t.get=n.get,t.set=n.set}},1006:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UNSPLASH_SESSION="_un_sesh",t.LOGGED_IN="logged_in",t.REMEMBER_USER_TOKEN="remember_user_token",t.LAST_SEEN_NEW_PHOTO="lsnp",t.GRID="grd",t.UNIQUE_USER_IDENTIFIER="i",t.XP_OVERWRITE="xpo",t.TWO_YEARS_MS=63072e6},1007:function(e,t,n){"use strict";e.exports=n(1008)},1008:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{totalHeight:e,photos:t}}function l(e){var t=0,n=e[0];return e.forEach(function(e,r){e.totalHeight<n.totalHeight&&(t=r,n=e)}),t}function c(e){return Array.from({length:e}).map(function(){return s()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(197),f=r(p),h=n(403),m=n(651),y=r(m),b=n(524),v=r(b),g=n(1009),_=r(g),P=n(469),w=n(433),T=n(1015),E=r(T),k="Masonry",j={photos:p.PropTypes.array.isRequired,authUser:p.PropTypes.object,windowWidth:p.PropTypes.number,contentWidth:p.PropTypes.number,pixelRatio:p.PropTypes.number.isRequired,location:p.PropTypes.object.isRequired,jsLoaded:p.PropTypes.bool.isRequired,actions:p.PropTypes.object.isRequired,api:p.PropTypes.object.isRequired},O={},N=t.Masonry=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridCount:e.windowWidth<=P.SMALL_MAX?2:3},n}return u(t,e),d(t,[{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&(e.windowWidth<=P.SMALL_MAX?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"getGridData",value:function(e){var t=this.props.photos,n=c(e);t.forEach(function(e){var t=n[l(n)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))});var r=n.map(function(e){return e.photos});return r}},{key:"renderPhoto",value:function(e,t){var n=this.state.gridCount,r=this.props,o=r.location,i=r.authUser,a=r.jsLoaded,u=r.pixelRatio,s=r.actions,l=r.api,c=r.windowWidth,d=r.contentWidth,p=16,h=Math.ceil(d/n-2*p),m=(0,w.getHeightFromWidth)(e,h);return f["default"].createElement(_["default"],{key:t,photo:e,width:h,height:m,location:o,authUser:i,pixelRatio:u,actions:s,saveNodes:a,api:l,windowWidth:c})}},{key:"renderGrid",value:function(e,t){var n,r=this.state.gridCount;return f["default"].createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,y["default"])(E["default"].Grid,(n={},o(n,E["default"].GridThree,3===r),o(n,E["default"].GridTwo,2===r),o(n,E["default"].GridOne,1===r),n))},e.map(this.renderPhoto.bind(this)))}},{key:"renderGrids",value:function(){var e=this,t=this.state.gridCount;return this.getGridData(t).map(function(t,n){return e.renderGrid(t,n)})}},{key:"render",value:function(){return f["default"].createElement("div",{id:"gridMulti",className:E["default"].container},this.renderGrids())}}]),t}(p.Component);N.displayName=k,N.propTypes=j,N.defaultProps=O;var x=function(e){return{windowWidth:(0,v["default"])(e,"windowDimensions.width"),contentWidth:e.contentWidth,authUser:e.auth.user,pixelRatio:e.pixelRatio,jsLoaded:e.jsLoaded}};t["default"]=(0,h.connect)(x)(N)},1009:function(e,t,n){"use strict";e.exports=n(1010)},1010:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(197),a=r(i),u=n(660),s=r(u),l=n(655),c=r(l),d=n(652),p=r(d),f=n(656),h=r(f),m=n(646),y=n(433),b=n(1011),v=r(b),g=n(1014),_=r(g),P=(0,s["default"])((0,c["default"])("PhotoMasonry"),(0,p["default"])({photo:i.PropTypes.object.isRequired,width:i.PropTypes.number,height:i.PropTypes.number,location:i.PropTypes.object.isRequired,authUser:i.PropTypes.object,pixelRatio:i.PropTypes.number.isRequired,saveNodes:i.PropTypes.bool,actions:i.PropTypes.object.isRequired,api:i.PropTypes.object.isRequired,windowWidth:i.PropTypes.number}),(0,h["default"])({width:null,height:null,saveNodes:!1}));t["default"]=P(function(e){var t=e.photo,n=e.width,r=e.height,i=e.pixelRatio,u=e.windowWidth,s=(0,y.getRoundedImageWidth)(n,!0),l=(0,y.getImageHeightFromWidth)(s,n,r),c=(0,m.buildImgixUrl)({url:t.urls.raw,width:s,height:l,pixelRatio:i});return a["default"].createElement("div",{className:_["default"].photoMasonryPhotoContainer},a["default"].createElement(v["default"],o({},e,{showPhotoInfoOnHover:!0,width:n,height:r,imageUrl:c,windowWidth:u,fillWidth:!0})))})},1011:function(e,t,n){"use strict";e.exports=n(1012)},1012:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(197),l=r(s),c=n(651),d=r(c),p=n(667),f=r(p),h=n(442),m=r(h),y=n(469),b=n(646),v=n(969),g=r(v),_=n(909),P=r(_),w=n(973),T=r(w),E=n(979),k=r(E),j=n(976),O=r(j),N=n(1013),x=r(N),R="SmallPhoto",M={children:s.PropTypes.node,photo:s.PropTypes.object.isRequired,className:s.PropTypes.string,containerClassName:s.PropTypes.string,photoRef:s.PropTypes.func,width:s.PropTypes.number,height:s.PropTypes.number,imageUrl:s.PropTypes.string,location:s.PropTypes.object.isRequired,linkTo:s.PropTypes.oneOfType([s.PropTypes.object,s.PropTypes.string]),authUser:s.PropTypes.object,saveNodes:s.PropTypes.bool,actions:s.PropTypes.object.isRequired,api:s.PropTypes.object.isRequired,windowWidth:s.PropTypes.number,fillWidth:s.PropTypes.bool,showPhotoInfoOnHover:s.PropTypes.bool},S={width:null,height:null,saveNodes:!1},C=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.state={isHovering:!1},n}return a(t,e),u(t,[{key:"handleMouseMove",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this,t=this.props,n=t.photo,r=t.linkTo,o=t.location,i=t.actions,a=t.windowWidth,u=a>y.EXTRA_SMALL_MAX;return l["default"].createElement("div",{className:x["default"].photoInfo,onMouseMove:u&&this.handleMouseMove,onMouseLeave:u&&this.handleMouseLeave},l["default"].createElement(f["default"],{to:r||(0,b.buildPhotoLink)(n,o,a),className:x["default"].photoInfoLink,onClick:function(){return i.setSelectedPhoto({id:n.id,ref:e.linkElem})}}),this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo,r=e.authUser,o=e.actions,i=e.api;return l["default"].createElement(T["default"],{type:"alt",location:t,photo:n,actions:o,authUser:r,api:i})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo,r=e.authUser,o=e.actions;return l["default"].createElement(O["default"],{className:x["default"].collectionButton,type:"alt",photo:n,actions:o,location:t,authUser:r})}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,n=e.actions;return l["default"].createElement("div",{className:x["default"].buttonDownloadContainer},l["default"].createElement(k["default"],{type:"alt",photo:t,actions:n}))}},{key:"renderUserLink",value:function(){var e=this.props,t=e.photo.user,n=e.actions;return l["default"].createElement("div",{className:x["default"].userContainer},l["default"].createElement(P["default"],{includeAvatar:!0,user:t,type:"alt",actions:n}))}},{key:"renderOrderPrintsButton",value:function(){var e=this.props.photo;return l["default"].createElement(g["default"],{photo:e,type:"outline-alt"})}},{key:"renderTopActions",value:function(){return l["default"].createElement("div",{className:x["default"].actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton(),this.renderOrderPrintsButton())}},{key:"renderBottomActions",value:function(){return l["default"].createElement("div",{className:x["default"].actionsBottom},this.renderUserLink(),this.renderDownloadButton())}},{key:"renderActions",value:function(){var e=this.state.isHovering,t=this.props.saveNodes;return!e&&t?null:l["default"].createElement("div",null,this.renderTopActions(),this.renderBottomActions())}},{key:"renderImage",value:function(){var e=this,t=this.props,n=t.photo,r=t.photoRef,o=t.linkTo,i=t.width,a=t.height,u=t.imageUrl,s=t.location,c=t.windowWidth,p=t.fillWidth;return l["default"].createElement(f["default"],{ref:function(t){(0,m["default"])(r)&&r(t),e.linkElem=t},to:o||(0,b.buildPhotoLink)(n,s,c),title:"View the photo By "+n.user.name,className:(0,d["default"])(x["default"].photo,this.props.className),style:{backgroundImage:'url("'+u+'")',backgroundColor:n.color,width:p?"100%":i,height:a}},this.props.children)}},{key:"render",value:function(){return l["default"].createElement("div",{className:(0,d["default"])(x["default"].container,this.props.containerClassName)},this.renderImage(),this.props.showPhotoInfoOnHover&&this.renderPhotoInfo())}}]),t}(s.Component);t["default"]=C,C.displayName=R,C.propTypes=M,C.defaultProps=S},1013:function(e,t){e.exports={container:"_3vgBX",photo:"_1hz5D",image:"_1kALN",photoInfo:"bQJ8Z",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",collectionButton:"_3NHSw",actionsBottom:"_1a5YS",userContainer:"CpQi5 _3YIV2",buttonDownloadContainer:"_3i-Ef tPMQE"}},1014:function(e,t){e.exports={photoMasonryPhotoContainer:"_2j4Js"}},1015:function(e,t){e.exports={container:"_3_WtK _1VOuf",Grid:"_1OvAL _3YIV2",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1016:function(e,t,n){"use strict";e.exports=n(1017)},1017:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(197),l=r(s),c=n(1018),d=r(c),p={actions:s.PropTypes.object.isRequired,children:s.PropTypes.element.isRequired},f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"setContentWidth",value:function(){var e=this.props.actions;this.elem&&e.setContentWidth(this.elem.offsetWidth-24)}},{key:"handleResize",value:function(){this.setContentWidth()}},{key:"render",value:function(){var e=this,t=this.props.children;return l["default"].createElement("div",{className:d["default"].container,ref:function(t){e.elem=t}},t)}}]),t}(s.Component);t["default"]=f,f.propTypes=p},1018:function(e,t){e.exports={container:"Nqw-T _22ZDn dvlCB"}},1019:function(e,t,n){"use strict";e.exports=n(1020)},1020:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(651),u=r(a),s=n(660),l=r(s),c=n(655),d=r(c),p=n(652),f=r(p),h=n(1021),m=r(h),y=n(433),b=n(646),v=n(1023),g=r(v),_=n(1026),P=r(_),w=(0,l["default"])((0,d["default"])("PhotosListView"),(0,f["default"])({photos:o.PropTypes.array,authUser:o.PropTypes.object,windowWidth:o.PropTypes.number,pixelRatio:o.PropTypes.number,contentWidth:o.PropTypes.number,actions:o.PropTypes.object.isRequired,api:o.PropTypes.object.isRequired}));t["default"]=w((0,m["default"])(function(e){var t=e.location,n=e.photos,r=e.authUser,o=e.contentWidth,a=e.windowWidth,s=e.pixelRatio,l=e.actions,c=e.api;return i["default"].createElement("div",{id:"gridSingle",className:(0,u["default"])(P["default"].container)},n.map(function(e){var n=(0,y.getImageSizeFromParent)(e,(0,b.isPhone)(a)?a:o);return i["default"].createElement(g["default"],{key:e.id,photo:e,pixelRatio:s,windowWidth:a,width:n.width,height:n.height,location:t,authUser:r,actions:l,api:c})}))}))},1021:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=n(197),s=r(u),l=n(1022),c=r(l),d=n(659),p=r(d),f=function(e){if((0,p["default"])(e))return e;var t=function(t){function n(){return o(this,n),i(this,t.apply(this,arguments))}return a(n,t),n.prototype.render=function(){return"string"==typeof e?s["default"].createElement("baseComponent",this.props):e(this.props,this.context)},n}(u.Component);return t.displayName=(0,c["default"])(e),t.propTypes=e.propTypes,t.contextTypes=e.contextTypes,t.defaultProps=e.defaultProps,t};t["default"]=f},1022:function(e,t){"use strict";t.__esModule=!0;var n=function(e){if("string"==typeof e)return e;if(e)return e.displayName||e.name||"Component"};t["default"]=n},1023:function(e,t,n){"use strict";e.exports=n(1024)},1024:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(197),l=r(s),c=n(651),d=r(c),p=n(667),f=r(p),h=n(646),m=n(433),y=n(969),b=r(y),v=n(909),g=r(v),_=n(973),P=r(_),w=n(976),T=r(w),E=n(979),k=r(E),j=n(1025),O=r(j),N="Photo",x={photo:s.PropTypes.object.isRequired,width:s.PropTypes.number,height:s.PropTypes.number,windowWidth:s.PropTypes.number,pixelRatio:s.PropTypes.number.isRequired,location:s.PropTypes.object.isRequired,actions:s.PropTypes.object.isRequired,authUser:s.PropTypes.object,api:s.PropTypes.object.isRequired,showUserOnMobile:s.PropTypes.bool,withinGrid:s.PropTypes.bool},R={width:null,height:null,showUserOnMobile:!0},M=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"renderImage",value:function(){var e=this,t=this.props,n=t.photo,r=t.photo.user,o=t.width,i=t.height,a=t.pixelRatio,u=t.location,s=t.actions,c=t.windowWidth,p=(0,m.getRoundedImageWidth)(o),y=(0,m.getImageHeightFromWidth)(p,n.width,n.height),b=(0,h.buildImgixUrl)({url:n.urls.raw,width:p,height:y,pixelRatio:a});return l["default"].createElement(f["default"],{ref:function(t){e.elem=t},href:(0,h.nodeUrl)()+"/photos/"+n.id,to:(0,h.buildPhotoLink)(n,u,c),title:"View the photo By "+r.name,className:(0,d["default"])(O["default"].photo),style:{backgroundImage:'url("'+b+'")',width:o,height:i},onClick:function(){return s.setSelectedPhoto({id:n.id,ref:e.elem})}})}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo,r=e.actions,o=e.authUser,i=e.api;return l["default"].createElement(P["default"],{photo:n,location:t,actions:r,authUser:o,api:i})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo,r=e.actions,o=e.authUser;return l["default"].createElement(T["default"],{className:O["default"].collectionButton,photo:n,location:t,actions:r,authUser:o})}},{key:"renderleftActions",value:function(){return l["default"].createElement("div",{className:O["default"].leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())}},{key:"renderRightActions",value:function(){var e=this.props,t=e.photo,n=e.actions;return l["default"].createElement("div",{className:O["default"].rightActions},l["default"].createElement(k["default"],{photo:t,actions:n,showLabel:!(0,y.isPhotoPrintable)(t.id)}),l["default"].createElement(b["default"],{photo:t,showLabel:!0}))}},{key:"renderUser",value:function(){var e=this.props,t=e.photo.user,n=e.actions;return l["default"].createElement("div",{className:O["default"].user},l["default"].createElement(g["default"],{includeAvatar:!0,user:t,actions:n}))}},{key:"renderPhotoInfo",value:function(){return l["default"].createElement("div",{className:(0,d["default"])(O["default"].photoInfo,this.props.withinGrid&&O["default"].withinGridPhotoInfo)},this.renderleftActions(),this.renderUser(),this.renderRightActions())}},{key:"renderUserLink",value:function(){var e=this.props.photo.user,t=(0,h.nodeUrl)()+"/"+e.username;return l["default"].createElement("div",{className:O["default"].userLink},l["default"].createElement("a",{href:t,className:O["default"].userImageContainer},l["default"].createElement("img",{alt:"User avatar",src:e.profile_image.small,className:O["default"].userAvatar})),l["default"].createElement("a",{href:t,className:O["default"].userName},e.name))}},{key:"renderTopUserLink",value:function(){var e=this.props,t=e.showUserOnMobile,n=e.windowWidth,r=e.photo,o=e.actions,i=r.user;return!t&&(0,h.isPhone)(n)?null:l["default"].createElement("div",{className:O["default"].userTopLink},l["default"].createElement(g["default"],{includeAvatar:!0,user:i,actions:o}))}},{key:"render",value:function(){return l["default"].createElement("div",{className:(0,d["default"])(O["default"].container,this.props.withinGrid&&O["default"].withinGrid)},this.renderTopUserLink(),this.renderImage(),this.renderPhotoInfo())}}]),t}(s.Component);t["default"]=M,M.displayName=N,M.propTypes=x,M.defaultProps=R},1025:function(e,t){e.exports={container:"y5w1y",withinGrid:"_3X690",photo:"cV68d",image:"_1zvDn",photoInfo:"hduMF",withinGridPhotoInfo:"_2V4SY",leftActions:"_31wG7 _3YIV2",rightActions:"_287Ma tPMQE",user:"_114MZ",collectionButton:"_34QX5",userLink:"_3isoq",userImageContainer:"_8p1N4 _3YIV2",userAvatar:"_1fYZF",userName:"_1imKo _3YIV2",userTopLink:"_1f9xN"}},1026:function(e,t){e.exports={container:"_1I8cs"}},1027:function(e,t,n){"use strict";e.exports=n(1028)},1028:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return a["default"].createElement("div",{id:"spinner",className:s["default"].spinnerContainer},a["default"].createElement("div",{className:s["default"].spinner}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(197),a=r(i),u=n(1029),s=r(u)},1029:function(e,t){e.exports={spinnerContainer:"_72qNE",spinner:"_1d72G",standard:"_10oQR"}},1030:function(e,t,n){"use strict";e.exports=n(1031)},1031:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return d["default"].createElement("h2",{className:w["default"].header},"Free (",d["default"].createElement("a",{href:(0,v.railsUrl)()+"/license"},"do whatever you want"),") high-resolution photos.")}function i(e){return e?null:d["default"].createElement("div",null,d["default"].createElement("h3",{className:w["default"].subheader},"To get the best of Unsplash delivered to your inbox, ",d["default"].createElement("a",{href:"/join?subscribe=1",title:"Get the best of Unsplash delivered to your inbox."},"subscribe"),"."))}function a(e){switch(e){case"facebook":return{label:"Facebook",url:"https://www.facebook.com/pages/Unsplash/274126369394815",icon:"facebook"};case"twitter":return{label:"Twitter",url:"https://twitter.com/unsplash",icon:"twitter"};case"pinterest":return{label:"Pinterest",url:"https://pinterest.com/unsplash",icon:"pinterest"};case"medium":return{label:"Medium",url:"https://medium.com/unsplash-unfiltered",icon:"medium"};case"instagram":return{label:"Instagram",url:"https://instagram.com/unsplash",icon:"instagram"};default:return{}}}function u(e){var t=a(e),n=(0,v.trackUrl)(t.url);return d["default"].createElement("li",{className:w["default"].socialLink},d["default"].createElement("a",{title:"Follow Unsplash on "+t.label,target:"_blank",rel:"noopener noreferrer",href:n},d["default"].createElement(_["default"],{className:w["default"].socialIcon,type:t.icon,width:24,height:24}),d["default"].createElement("span",{className:w["default"].socialText},"Unsplash ",t.label)))}function s(){return d["default"].createElement("div",{className:w["default"].socialLinksContainer
},d["default"].createElement("ul",null,u("twitter"),u("facebook"),u("pinterest"),u("medium"),u("instagram")))}function l(e,t){return e&&!(0,v.isPhone)(t)?null:d["default"].createElement("a",{className:w["default"].submitPhotoLink,href:(0,v.railsUrl)()+"/submit",rel:"nofollow"},"Submit a photo")}Object.defineProperty(t,"__esModule",{value:!0});var c=n(197),d=r(c),p=n(652),f=r(p),h=n(655),m=r(h),y=n(660),b=r(y),v=n(646),g=n(661),_=r(g),P=n(1032),w=r(P),T=(0,b["default"])((0,m["default"])("FeedHeader"),(0,f["default"])({authUser:c.PropTypes.object,windowWidth:c.PropTypes.number}));t["default"]=T(function(e){var t=e.authUser,n=e.windowWidth;return d["default"].createElement("div",{className:w["default"].container},d["default"].createElement("h1",{className:w["default"].logoName},"Unsplash"),d["default"].createElement("div",{className:w["default"].text},o(),i(t),s(),l(t,n)))})},1032:function(e,t){e.exports={container:"_258j4 _22ZDn dvlCB",logoName:"_2rZyq _36jaJ _2lCRJ _36jaJ",header:"_2WeNi UDEGo",subheader:"_1jYgt UDEGo",socialLinksContainer:"_18nYH",socialLink:"_1VZDx",socialIcon:"IFjlP",socialText:"_3l3AC",submitPhotoLink:"_1P8E6"}},1033:function(e,t,n){"use strict";e.exports=n(1034)},1034:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(660),u=r(a),s=n(655),l=r(s),c=n(652),d=r(c),p=n(656),f=r(p),h=n(1035),m=r(h),y=n(1038),b=r(y),v=n(1041),g=r(v),_=(0,u["default"])((0,l["default"])("FeedNav"),(0,d["default"])({showSorting:o.PropTypes.bool,showGridChanger:o.PropTypes.bool,location:o.PropTypes.object.isRequired,actions:o.PropTypes.object.isRequired,photoFeed:o.PropTypes.object,preferredGrid:o.PropTypes.oneOf(["single","multi"]).isRequired,isHome:o.PropTypes.bool}),(0,f["default"])({showSorting:!0,showGridChanger:!0,preferredGrid:"single",isHome:!1}));t["default"]=_(function(e){var t=e.location,n=e.showGridChanger,r=e.showSorting,o=e.photoFeed,a=e.actions,u=e.preferredGrid,s=e.renderLeftSection,l=e.isHome;return i["default"].createElement(m["default"],null,i["default"].createElement("div",null,s&&s(),n?i["default"].createElement(b["default"],{preferredGrid:u,photoFeed:o,location:t,actions:a,isHome:l}):null,r?i["default"].createElement(g["default"],{location:t,photoFeed:o,actions:a}):null))})},1035:function(e,t,n){"use strict";e.exports=n(1036)},1036:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.children;return a["default"].createElement("div",{className:s["default"].container},t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(197),a=r(i),u=n(1037),s=r(u),l={children:i.PropTypes.element.isRequired};o.propTypes=l},1037:function(e,t){e.exports={container:"yWc5T _3ofrt _22ZDn dvlCB"}},1038:function(e,t,n){"use strict";e.exports=n(1039)},1039:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o){var i=r.maxPage,a=r.orderBy,u=r.perPage;return t===e?null:function(){p["default"].set(P.GRID,e),n.setPreferredGrid(e),o||n.resetPhotoFeed({initialPage:1,maxPage:i,orderBy:a,perPage:u}),n.trackGridSwitch(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(197),s=r(u),l=n(651),c=r(l),d=n(1005),p=r(d),f=n(660),h=r(f),m=n(655),y=r(m),b=n(652),v=r(b),g=n(667),_=r(g),P=n(1006),w=n(661),T=r(w),E=n(1040),k=r(E),j=(0,h["default"])((0,y["default"])("GridChanger"),(0,v["default"])({location:u.PropTypes.object.isRequired,actions:u.PropTypes.object.isRequired,photoFeed:u.PropTypes.object,preferredGrid:u.PropTypes.oneOf(["single","multi"]).isRequired,isHome:u.PropTypes.bool})),O=[{type:"single",icon:"grid-single"},{type:"multi",icon:"grid-multi"}];t["default"]=j(function(e){var t=e.preferredGrid,n=e.location,r=e.actions,u=e.photoFeed,l=e.isHome;return s["default"].createElement("div",{className:k["default"].gridSelector},O.map(function(e){return s["default"].createElement(_["default"],{key:e.type,className:(0,c["default"])(k["default"].gridLink,o({},k["default"].activeGridLink,t===e.type)),to:{pathname:n.pathname,query:a({},n.query,{grid:e.type})},onClick:i(e.type,t,r,u,l)},s["default"].createElement(T["default"],{className:k["default"].gridIcon,type:e.icon}))}))})},1040:function(e,t){e.exports={gridSelector:"_36C6d",gridLink:"_2tP-l _21rCr",activeGridLink:"xWf97",gridIcon:"_1Sa22"}},1041:function(e,t,n){"use strict";e.exports=n(1042)},1042:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(660),u=r(a),s=n(655),l=r(s),c=n(652),d=r(c),p=n(524),f=r(p),h=n(667),m=r(h),y=n(646),b=n(673),v=r(b),g=n(1043),_=r(g),P=n(1046),w=r(P),T=[{type:"latest",label:"Latest"},{type:"popular",label:"Popular"},{type:"oldest",label:"Oldest"}],E=(0,u["default"])((0,l["default"])("SortingLinks"),(0,d["default"])({location:o.PropTypes.object.isRequired,actions:o.PropTypes.object.isRequired,photoFeed:o.PropTypes.object}));t["default"]=E(function(e){var t=e.location,n=e.photoFeed,r=e.actions;return i["default"].createElement("div",{className:w["default"].sortingLinkContainer},i["default"].createElement(m["default"],{className:w["default"].sortingLink,to:{pathname:t.pathname,query:(0,y.toggleIsVisibleQuery)(t,"sorting_popover")}},(0,f["default"])(T.find(function(e){return e.type===n.orderBy}),"label")," ▾"),i["default"].createElement(v["default"],{className:w["default"].popoverLocation,location:t,activeQuery:"sorting_popover",arrowLocation:"top-right"},i["default"].createElement("ul",{className:w["default"].ul},T.map(function(e){return i["default"].createElement(_["default"],{key:e.type,type:e.type,label:e.label,location:t,actions:r,photoFeed:n})}))))})},1043:function(e,t,n){"use strict";e.exports=n(1044)},1044:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){var r=n.maxPage,o=n.perPage,i=n.orderBy;return i===e?null:function(){t.resetPhotoFeed({orderBy:e,initialPage:1,maxPage:r,perPage:o}),t.trackSortingChange(e)}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(197),u=r(a),s=n(660),l=r(s),c=n(655),d=r(c),p=n(652),f=r(p),h=n(667),m=r(h),y=n(646),b=n(1045),v=r(b),g=(0,l["default"])((0,d["default"])("SortingLink"),(0,f["default"])({location:a.PropTypes.object.isRequired,actions:a.PropTypes.object.isRequired,photoFeed:a.PropTypes.object,type:a.PropTypes.string.isRequired,label:a.PropTypes.string.isRequired}));t["default"]=g(function(e){var t=e.type,n=e.label,r=e.location,a=e.actions,s=e.photoFeed;return u["default"].createElement("li",null,u["default"].createElement(m["default"],{className:v["default"].sortingLink,to:{pathname:r.pathname,query:i({},(0,y.toggleIsVisibleQuery)(r,"sorting_popover"),{sort_by:t})},onClick:o(t,a,s)},n))})},1045:function(e,t){e.exports={sortingLink:"_3jiZO _1zOQ1 _36jaJ UDEGo _21rCr"}},1046:function(e,t){e.exports={ul:"_2kRzn",li:"_2zVvH",link:"link",sortingLinkContainer:"_3BHLS",sortingLink:"rejdY tPMQE _21rCr",popoverLocation:"klA9u"}},1047:function(e,t,n){"use strict";e.exports=n(1048)},1048:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(646),u=n(670),s=r(u),l=n(1049),c=r(l),d=n(1051),p=r(d),f="FollowingFeedBanner",h={authUser:o.PropTypes.object,imageSrc:o.PropTypes.string.isRequired},m={imageSrc:"/a/img/marketing/following.png"},y=function(e){var t=e.authUser,n=e.imageSrc,r="/following?onboarding=true",o=t?r:(0,a.buildJoinUrl)(r),u=!!t;return i["default"].createElement(c["default"],{linkTo:o,isLocalLink:u,headingPrefix:"Introducing",heading:"Following Feed",cta:i["default"].createElement(s["default"],{className:p["default"].cta,type:"primary",tag:"div"},"Get started")},i["default"].createElement("img",{className:p["default"].image,src:n,alt:"following-feed"}))};y.displayName=f,y.propTypes=h,y.defaultProps=m,t["default"]=y},1049:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(660),u=r(a),s=n(655),l=r(s),c=n(667),d=r(c),p=n(1050),f=r(p),h=(0,u["default"])((0,l["default"])("Banner"));t["default"]=h(function(e){var t=e.linkTo,n=e.isLocalLink,r=e.headingPrefix,o=e.heading,a=e.cta,u=e.children,s=i["default"].createElement("div",{className:f["default"].banner},i["default"].createElement("div",{className:f["default"].bannerCopy},i["default"].createElement("div",{className:f["default"].bannerCopyContent},r&&i["default"].createElement("span",null,r),i["default"].createElement("h4",{className:f["default"].bannerTitle},o),a)),i["default"].createElement("div",{className:f["default"].bannerImgContainer},u));return n?i["default"].createElement(d["default"],{to:t,className:f["default"].bannerLink},s):i["default"].createElement("a",{href:t,className:f["default"].bannerLink},s)})},1050:function(e,t){e.exports={bannerLink:"_3yG4r _22ZDn dvlCB",banner:"_2u2R1",bannerCopy:"_3l7T3",bannerTitle:"_3Ua56 _3gLwH _36jaJ",bannerCta:"_3WXgO",bannerImgContainer:"_3xfJE"}},1051:function(e,t){e.exports={cta:"lo0YK",image:"CHZpW"}},1052:function(e,t,n){"use strict";e.exports=n(1053)},1053:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(197),s=n(679);n(693),n(919),n(791),n(793),n(1054),n(927),n(795);var l=n(625),c=n(646),d="FeedScrollHandler",p={children:u.PropTypes.element,preferredGrid:u.PropTypes.string,handleFetch:u.PropTypes.func.isRequired,handleFetchResponse:u.PropTypes.func.isRequired,handleFetchError:u.PropTypes.func,nextPage:u.PropTypes.string},f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.removeScrollSubscription=n.removeScrollSubscription.bind(n),n}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.addScrollSubscription()}},{key:"componentWillUpdate",value:function(e){var t=this,n=e.preferredGrid!==this.props.preferredGrid,r=this.props,o=r.handleFetch,i=r.handleFetchResponse,a=r.handleFetchError,u=e.nextPage;n&&(this.removeScrollSubscription(),o(u).then(l.toJson).then(function(e){t.addScrollSubscription(),i(e)})["catch"](a))}},{key:"componentWillUnmount",value:function(){this.removeScrollSubscription()}},{key:"addScrollSubscription",value:function(){var e=this,t=s.Observable.fromEvent(window,"scroll").filter(function(){return(0,c.shouldFetchMoreContent)()}).map(function(){return e.props.nextPage}).distinct();this.scrollSubscription=t.subscribe(this.invokeSuppliedFetchMethod.bind(this))}},{key:"removeScrollSubscription",value:function(){this.scrollSubscription.unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()}},{key:"invokeSuppliedFetchMethod",value:function(){var e=this.props,t=e.handleFetch,n=e.handleFetchResponse,r=e.handleFetchError,o=e.nextPage;if(t&&o){var i=s.Observable.defer(function(){return t(o).then(l.toJson)}).retry(3).take(1);this.fetchSubscription=i.subscribe(n,r)}}},{key:"render",value:function(){return this.props.children}}]),t}(u.Component);t["default"]=f,f.displayName=d,f.propTypes=p},1054:function(e,t,n){"use strict";var r=n(679),o=n(1055);r.Observable.prototype.distinct=o.distinct},1055:function(e,t,n){"use strict";function r(e,t){return this.lift(new u(e,t))}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(926),a=n(922);t.distinct=r;var u=function(){function e(e,t){this.compare=e,this.flushes=t}return e.prototype.call=function(e,t){return t._subscribe(new s(e,this.compare,this.flushes))},e}(),s=function(e){function t(t,n,r){e.call(this,t),this.values=[],"function"==typeof n&&(this.compare=n),r&&this.add(a.subscribeToResult(this,r))}return o(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.values.length=0},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){var t=!1,n=this.values,r=n.length;try{for(var o=0;o<r;o++)if(this.compare(n[o],e))return void(t=!0)}catch(i){return void this.destination.error(i)}this.values.push(e),this.destination.next(e)},t.prototype.compare=function(e,t){return e===t},t}(i.OuterSubscriber);t.DistinctSubscriber=s},1056:function(e,t,n){"use strict";e.exports=n(1057)},1057:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(197),u=r(a),s=n(651),l=r(s),c=n(756),d=r(c),p=n(652),f=r(p),h=n(655),m=r(h),y=n(656),b=r(y),v=n(757),g=r(v),_=n(938),P=r(_),w=n(660),T=r(w),E=n(625),k=r(E),j=n(899),O=n(1058),N=n(1059),x=r(N),R={title:null,message:null,link_text:null,link:null,image:null},M=(0,T["default"])((0,m["default"])("Announcement"),(0,f["default"])({actions:a.PropTypes.object.isRequired,announcement:a.PropTypes.object,isVisible:a.PropTypes.bool}),(0,b["default"])({announcement:R,isVisible:!1}),(0,g["default"])("isVisible","toggleVisibility",!1),(0,g["default"])("announcement","setAnnouncement",R),(0,P["default"])({clickHandler:function(e){return function(t,n){var r=e.actions,o=e.announcement;e.toggleVisibility(!1),r.trackAnnouncementClick(o.id,n)}}}),(0,d["default"])({componentDidMount:function(){var e=(0,O.isLessThan2Days)(window.localStorage.getItem(j.ANNOUNCEMENT_LAST_SEEN_DATE),(new Date).getTime());if(!e){var t=this.props,n=t.actions,r=t.setAnnouncement,o=t.toggleVisibility;k["default"].custom.getAnnouncements().then(E.toJson).then(function(e){var t=window.localStorage.getItem(j.SEEN_ANNOUNCEMENTS_IDS)||"",a=(0,O.getSeenAnnouncementsIds)(t),u=(0,O.getUnseenAnnouncement)(e,a);if(u){var s=[u.id].concat(i(a));window.localStorage.setItem(j.SEEN_ANNOUNCEMENTS_IDS,s),window.localStorage.setItem(j.ANNOUNCEMENT_LAST_SEEN_DATE,(new Date).getTime()),r(u),o(!0),k["default"].custom.readAnnouncement(u.id),n.trackAnnouncementView(u.id)}})}}}));t["default"]=M(function(e){var t=e.announcement,n=e.isVisible,r=e.clickHandler;return u["default"].createElement("div",{className:(0,l["default"])(x["default"].announcementContainer,o({},x["default"].isVisible,n)),id:"qa-announcement"},u["default"].createElement("div",{className:x["default"].announcement},u["default"].createElement("div",{className:x["default"].imageContainer},u["default"].createElement("a",{href:t.link,onClick:r.bind(null,null,"clicked"),target:"_blank",rel:"noopener noreferrer",title:t.link_text},u["default"].createElement("img",{role:"presentation",className:x["default"].image,src:t.image}))),u["default"].createElement("div",{className:x["default"].info},u["default"].createElement("h4",{className:x["default"].title},t.title),u["default"].createElement("p",{className:x["default"].message},t.message),u["default"].createElement("div",{className:x["default"].actions},u["default"].createElement("a",{className:x["default"].link,href:t.link,onClick:r.bind(null,null,"clicked"),target:"_blank",rel:"noopener noreferrer"},t.link_text),u["default"].createElement("button",{className:x["default"].dismiss,onClick:r.bind(null,null,"closed"),id:"qa-announcement-dismiss"},"Dismiss")))))})},1058:function(e,t){"use strict";function n(e,t){var n=1728e5;return!!e&&t-e<n}function r(e){return e.length>0?e.split(","):[]}function o(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:0}function i(e,t){var n=e.filter(function(e){return t.indexOf(e.id.toString())<0}).sort(o);return n[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.isLessThan2Days=n,t.getSeenAnnouncementsIds=r,t.getUnseenAnnouncement=i},1059:function(e,t){e.exports={announcementContainer:"_3g_WS _3aFCf",isVisible:"_2vACH",announcement:"_3sVw3 _1VOuf",imageContainer:"_1EdAe _3YIV2",image:"_8ZJkb",info:"I0D3r _3YIV2",title:"_1mft8",message:"JPo_g",actions:"Uj721",link:"_2n15o",dismiss:"_3rgaJ _1_rhW"}},1060:function(e,t,n){"use strict";e.exports=n(1061)},1061:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return a["default"].createElement("div",{className:c["default"].container},a["default"].createElement("a",{href:"/"},a["default"].createElement(s["default"],{type:"logo",className:c["default"].logo})),a["default"].createElement("p",{className:c["default"].text},"Make something awesome"))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(197),a=r(i),u=n(661),s=r(u),l=n(1062),c=r(l)},1062:function(e,t){e.exports={container:"_2WMKE",logo:"_1Ig-9",text:"_1cQDt"}},1063:function(e,t,n){"use strict";e.exports=n(1064)},1064:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(197),i=r(o),a=n(660),u=r(a),s=n(655),l=r(s),c=(0,u["default"])((0,l["default"])("WebSiteSchema")),d='\n  <script type="application/ld+json">\n    {\n      "@context": "http://schema.org",\n      "@type": "WebSite",\n      "name": "Unsplash",\n      "url": "https://unsplash.com/",\n      "potentialAction": {\n        "@type": "SearchAction",\n        "target": "https://unsplash.com/search/photos/{search_term_string}",\n        "query-input": "required name=search_term_string"\n      }\n    }\n  </script>\n'.trim();t["default"]=c(function(){return i["default"].createElement("div",{dangerouslySetInnerHTML:{__html:d}})})},1065:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.title="Unsplash",t.description="Do-whatever-you-want high-resolution photos.",t.canonical="https://unsplash.com"}});
//# sourceMappingURL=1.90444.main.js.map